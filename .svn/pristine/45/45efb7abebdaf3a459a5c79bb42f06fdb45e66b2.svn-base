// Raised Query table
$(document).ready(function () {
    const websiteMeta = document.querySelector('meta[name="website-url"]');
    const websiteUrl = websiteMeta?.getAttribute("content");
    const raisedQueryUrl = websiteUrl
        ? `${websiteUrl}/query-management/raised-query`
        : null;

    $("#raisedQueryTable").DataTable({
        processing: true,
        serverSide: true,
        ajax: {
            url: raisedQueryUrl,
        },
        columns: [
            {
                data: "DT_RowIndex",
                name: "DT_RowIndex",
                orderable: false,
                searchable: false,
            },
            { data: "query_id", name: "query_id" },
            { data: "title", name: "title" },
            { data: "query_type", name: "query_type" },
            { data: "created_at", name: "created_at" },
            { data: "query_raised_by", name: "query_raised_by" },
            { data: "status", name: "status" },
            {
                data: "action",
                name: "action",
                orderable: false,
                searchable: false,
            },
        ],
    });
});
