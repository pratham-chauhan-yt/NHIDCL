<?php
    use App\Models\{RefGuaranteeType, NhidclProject};
?>


<?php $__env->startSection('dashboard_content'); ?>
    <div class="container-fluid md:p-0">
        <div class="top_heading_dash__">
            <div class="main_hed">Add BG</div>
        </div>
    </div>
    <div class="inner_page_dash__">
        <div class="my-4 ">
            <div class="tab_custom_c mb-[20px]">
                <button class="tablink active" onclick="openPage('Home', this, '#373737')" id="defaultOpen">
                    <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z">
                        </path>
                    </svg>
                    Add BG
                </button>

                <button class="tablink" onclick="openPage('BgList', this, '#373737')">
                    <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776">
                        </path>
                    </svg>
                    Added BG
                </button>

            </div>

            <div id="Home" class="tabcontent" style="display: block;">

                <form class="form_grid_cust" id="add-bg" enctype="multipart/form-data"
                    action="<?php echo e(route('bgms.bg.store')); ?>" method="POST">
                    <?php echo csrf_field(); ?>
                    <div class="inpus_cust_cs form_grid_dashboard_cust_">
                        <div class="">
                            <label class="required-label">Project</label>
                            <select name="nhidcl_bgm_project_details_id" class="">
                                <option value="">Select a project</option>
                                <?php $__currentLoopData = NhidclProject::where('ref_project_state_id', bgmsAssignedState())->get(); $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $project): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
                                    <option value="<?php echo e($project->id); ?>"
                                        <?php echo e(old('nhidcl_bgm_project_details_id') == $project->id ? 'selected' : ''); ?>>
                                        <?php echo e($project->id . ' - ' . $project->project_name); ?>

                                    </option>
                                <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?>
                            </select>
                            <?php $__errorArgs = ['nhidcl_bgm_project_details_id'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Guarantee Type</label>
                            <select name="ref_guarantee_type_id" class="">
                                <option value="">Select guarantee type</option>
                                <?php $__currentLoopData = RefGuaranteeType::all(); $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $gt): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
                                    <option value="<?php echo e($gt->id); ?>"
                                        <?php echo e(old('ref_guarantee_type_id') == $gt->id ? 'selected' : ''); ?>>
                                        <?php echo e($gt->guarantee_type); ?>

                                    </option>
                                <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?>
                            </select>
                            <?php $__errorArgs = ['ref_guarantee_type_id'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Agency Name</label>
                            <input type="text" name="agency_name" placeholder="Enter agency name"
                                value="<?php echo e(old('agency_name')); ?>">
                            <?php $__errorArgs = ['agency_name'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Agency Mob No.</label>
                            <input type="text" name="agency_mob_no" placeholder="Enter agency mobile number"
                                value="<?php echo e(old('agency_mob_no')); ?>">
                            <?php $__errorArgs = ['agency_mob_no'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Agency Email ID</label>
                            <input type="email" name="agency_email" placeholder="Enter agency email"
                                value="<?php echo e(old('agency_email')); ?>">
                            <?php $__errorArgs = ['agency_email'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Agency Address</label>
                            <input type="text" name="agency_address" placeholder="Enter agency address"
                                value="<?php echo e(old('agency_address')); ?>">
                            <?php $__errorArgs = ['agency_address'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">BG No.</label>
                            <input type="text" name="bg_no" placeholder="Enter BG number" value="<?php echo e(old('bg_no')); ?>">
                            <?php $__errorArgs = ['bg_no'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Bank Name</label>
                            <input type="text" name="bank_name" placeholder="Enter bank name"
                                value="<?php echo e(old('bank_name')); ?>">
                            <?php $__errorArgs = ['bank_name'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Issuing Bank Name</label>
                            <input type="text" name="issuing_bank_name" placeholder="Enter Issuing bank name"
                                value="<?php echo e(old('issuing_bank_name')); ?>">
                            <?php $__errorArgs = ['bank_name'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>
                        <div class="">
                            <label class="required-label">Issuing Bank Branch</label>
                            <input type="text" name="issuing_bank_branch" placeholder="Enter issuing bank branch"
                                value="<?php echo e(old('issuing_bank_branch')); ?>">
                            <?php $__errorArgs = ['issuing_bank_branch'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Issuing Bank Mob No</label>
                            <input type="text" name="issuing_bank_mob_no"
                                placeholder="Enter issuing bank mobile number" value="<?php echo e(old('issuing_bank_mob_no')); ?>">
                            <?php $__errorArgs = ['issuing_bank_mob_no'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Issuing Bank Email</label>
                            <input type="email" name="issuing_bank_email" placeholder="Enter issuing bank email"
                                value="<?php echo e(old('issuing_bank_email')); ?>">
                            <?php $__errorArgs = ['issuing_bank_email'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Issuing Bank Address</label>
                            <input type="text" name="issuing_bank_address" placeholder="Enter issuing bank address"
                                value="<?php echo e(old('issuing_bank_address')); ?>">
                            <?php $__errorArgs = ['issuing_bank_address'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Operable Bank Name</label>
                            <input type="text" name="operable_bank_name"
                                placeholder="Enter operable bank Name"
                                value="<?php echo e(old('operable_bank_name')); ?>">
                            <?php $__errorArgs = ['operable_bank_name'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Operable Bank Mob No</label>
                            <input type="text" name="operable_bank_mob_no"
                                placeholder="Enter operable bank mobile number"
                                value="<?php echo e(old('operable_bank_mob_no')); ?>">
                            <?php $__errorArgs = ['operable_bank_mob_no'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Operable Bank Email</label>
                            <input type="email" name="operable_bank_email" placeholder="Enter operable bank email"
                                value="<?php echo e(old('operable_bank_email')); ?>">
                            <?php $__errorArgs = ['operable_bank_email'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Operable Bank Address</label>
                            <input type="text" name="operable_bank_address" placeholder="Enter operable bank address"
                                value="<?php echo e(old('operable_bank_address')); ?>">
                            <?php $__errorArgs = ['operable_bank_address'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Operable Bank Branch</label>
                            <input type="text" name="operable_bank_branch" placeholder="Enter operable bank branch"
                                value="<?php echo e(old('operable_bank_branch')); ?>">
                            <?php $__errorArgs = ['operable_bank_branch'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">BG Amount</label>
                            <input type="text" name="bg_amount" placeholder="Enter BG amount"
                                value="<?php echo e(old('bg_amount')); ?>">
                            <?php $__errorArgs = ['bg_amount'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Issue Date</label>
                            <input type="date" name="issue_date" placeholder="Select issue date"
                                value="<?php echo e(old('issue_date')); ?>">
                            <?php $__errorArgs = ['issue_date'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">BG Valid Up-to</label>
                            <input type="date" name="bg_valid_upto" placeholder="Select validity date"
                                value="<?php echo e(old('bg_valid_upto')); ?>">
                            <?php $__errorArgs = ['bg_valid_upto'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

                        <div class="">
                            <label class="required-label">Claim Expiry Date</label>
                            <input type="date" name="claim_expiry_date" placeholder="Select claim expiry date"
                                value="<?php echo e(old('claim_expiry_date')); ?>">
                            <?php $__errorArgs = ['claim_expiry_date'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
                        </div>

<!-- <div class="">
    <label class="required-label">Claim Lodge</label>
    <select name="claim_lodged" class="">
        <option value="">Select Claim Lodge</option>
        <option value="TRUE" <?php echo e(old('claim_lodged') === 'TRUE' ? 'selected' : ''); ?>>TRUE</option>
        <option value="FALSE" <?php echo e(old('claim_lodged') === 'FALSE' ? 'selected' : ''); ?>>FALSE</option>
    </select>
    <?php $__errorArgs = ['claim_lodged'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
        <div class="error-message"><?php echo e($message); ?></div>
    <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>
</div> -->

                        <div class="attachment_section_upload_attachment attachment_preview">
                            <label>Upload BG</label>
                            <div class="flex gap-[10px]">
                                <input type="text" id="uploaded_attachment" name="uploaded_attachment"
                                    placeholder="Upload Image" class="uploaded_attachment" readonly
                                    value="<?php echo e(old('uploaded_attachment')); ?>">
                                <label class="upload_cust mb-0 hover-effect-btn"> Upload Filed
                                    <input type="file" id="upload_attachment" name="upload_attachment"
                                        class="hidden upload_attachment">
                                    <input type="hidden" id="bg_file" name="bg_file" value="<?php echo e(old('bg_file')); ?>">
                                </label>
                            </div>
                            <?php $__errorArgs = ['bg_file'];
$__bag = $errors->getBag($__errorArgs[1] ?? 'default');
if ($__bag->has($__errorArgs[0])) :
if (isset($message)) { $__messageOriginal = $message; }
$message = $__bag->first($__errorArgs[0]); ?>
                                <div class="error-message"><?php echo e($message); ?></div>
                            <?php unset($message);
if (isset($__messageOriginal)) { $message = $__messageOriginal; }
endif;
unset($__errorArgs, $__bag); ?>

                            <input type="hidden" id="uploadUrl" value="<?php echo e(route('bgms.bg.upload')); ?>">
                            <input type="hidden" id="viewUrl" value="<?php echo e(route('bgms.bg.view')); ?>">
                        </div>
                    </div>

                    <div class="button_flex_cust_form">
                        <button class="hover-effect-btn fill_btn" type="submit">
                            Submit
                        </button>
                    </div>
                </form>



            </div>

            <div id="BgList" class="tabcontent" style="display: none;">

                <div class="table_over">
                    <table class="cust_table__ table_sparated" id="bg-table">
                        <thead class="">
                            <tr>
                                <th>#</th>
                                <th>BG Id</th>
                                <th>Ref. No</th>
                                <th>SAP ID</th>
                                <th>Guarantee Type</th>
                                <th>State</th>
                                <th>BG No</th>
                                <th>No. of Renew</th>
                                <th>Expiry Date</th>
                                <th>Track Status</th>
                                <th>Track Claim Lodge</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>

                        </thead>
                        <tbody class=""> </tbody>
                    </table>
                </div>

            </div>

        </div>

    </div>
<?php $__env->stopSection(); ?>
<?php $__env->startPush('scripts'); ?>
    <script src="<?php echo e(asset('public/js/validate-method.js')); ?>"></script>

    <script src="<?php echo e(asset('/public/validation/bgms.bg.js')); ?>"></script>

<?php $__env->stopPush(); ?>

<?php echo $__env->make('layouts.dashboard', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH C:\xampp\htdocs\NHIDCL\resources\views/bank-management/uploader/bg/create.blade.php ENDPATH**/ ?>